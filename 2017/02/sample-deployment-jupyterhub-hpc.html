<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Sample deployment of Jupyterhub in HPC on SDSC Comet | Andrea Zonca's blog</title>
        <meta name="author" content="Andrea Zonca">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <link rel="alternate" type="application/atom+xml" title="Andrea Zonca's blog blog atom feed"
              href="/feeds/all.atom.xml" />

        <link rel="stylesheet" href="/theme/css/normalize.min.css">
        <link rel="stylesheet" href="/theme/css/fonts/proximanova.css">
        <link rel="stylesheet" href="/theme/css/fonts/ss-social.css">
        <link rel="stylesheet" href="/theme/css/fonts/ss-standard.css">
        <link rel="stylesheet" href="/theme/css/pygments.css">
        <!-- <link rel="stylesheet" href="/theme/css/ipython.css"> -->
        <link rel="stylesheet" href="/theme/css/main.css">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/github.min.css">
<script src="/theme/js/github-files/src/main/javascript/github-files.js"> </script>

    </head>
    <body>
        <div class="header">
            <div class="navbar">
              <a href="/" class="ss-icon" title="home">home</a>
              <a href="/tags.html" class="ss-icon" title="tags">tag</a>
              <a href="http://about.me/andreazonca" class="ss-icon" title="about">user</a>
              <a href="http://twitter.com/andreazonca" class="ss-icon ss-social" title="on twitter">twitter</a>
              <a href="http://github.com/zonca" class="ss-icon ss-social" title="on github">octocat</a>
              <a href="https://plus.google.com/+AndreaZonca?rel=author" class="ss-icon ss-social" title="on googleplus">GooglePlus</a>
              <a href="/feeds/all.atom.xml" class="ss-icon ss-social" title="rss feed">rss</a>
              <a href="mailto:andrea.zonca|on the google mail service" class="ss-icon" title="email me">mail</a>
            </div>
        </div>

        <div id="content">
<div class="post">
    <article>
        <header>
            <h1>Sample deployment of Jupyterhub in HPC on SDSC Comet</h1>
        </header>
        <div class='post-content'>
            <p>I have deployed an experimental Jupyterhub service (ask me privately if you would like access) installed on a <a href="http://www.sdsc.edu/services/it/cloud.html">SDSC Cloud</a> virtual machine that spawns single user Jupyter notebooks on Comet computing nodes using <a href="https://github.com/jupyterhub/batchspawner"><code>batchspawner</code></a> and then proxies the Notebook back to the user using SSH-tunneling.</p>
<h2>Functionality</h2>
<p>This kind of setup is functionally equivalent to launching a job yourself on Comet, launch <code>jupyter notebook</code> and then SSH-Tunneling the port to your local machine, but way more convenient. You jus open your browser to  the Jupyterhub instance, authenticate with your XSEDE credentials, choose queue and job length and wait for the Notebook job to be ready (generally it is a matter of minutes).</p>
<h2>Rationale</h2>
<p>Jupyter Notebooks have a lot of use-cases on HPC, it can be used for:</p>
<ul>
<li>In-situ visualization</li>
<li>Interactive data analysis when local resources are not enough, either in terms of RAM or disk space</li>
<li>Monitoring other running jobs</li>
<li>Launch <a href="https://github.com/ipython/ipyparallel">IPython Parallel</a> jobs and distribute computation to them in parallel</li>
<li>Interact with a running Spark cluster (we support Spark on Comet)</li>
</ul>
<p>More on this on my <a href="https://zonca.github.io/2015/04/jupyterhub-hpc.html">Run Jupyterhub on a Supercomputer</a> old blog post.</p>
<h2>Setup details</h2>
<p>The Jupyter team created a repository for sample HPC deployments, I added all configuration files of my deployment there, with all details about the setup:</p>
<ul>
<li><a href="https://github.com/jupyterhub/jupyterhub-deploy-hpc/tree/master/batchspawner-xsedeoauth-sshtunnel-sdsccomet">Sample deployment in the <code>jupyterhub-deploy-hpc</code> repository</a></li>
</ul>
<p>Please send feedback opening an issue in that repository and tagging <code>@zonca</code>.</p>
        </div>
    </article>

    <div class="metadata">
        <ul>
            <li>
                <strong>Published:</strong>
                <i><time datetime="2017-02-26T12:00:00-08:00">Sun 26 February 2017</time></i>
            </li>
            <li>
                <strong>In:</strong>
                <a href="http://zonca.github.io/category/misc.html">misc</a>
            </li>
            <li>
                <strong>Tags:</strong>
<a href="http://zonca.github.io/tag/ipython.html">ipython</a> 
<a href="http://zonca.github.io/tag/jupyterhub.html">jupyterhub</a> 
<a href="http://zonca.github.io/tag/hpc.html">hpc</a> 
<a href="http://zonca.github.io/tag/comet.html">comet</a> 
            </li>
            <li>
                <strong>Written by:</strong>
                <a href="http://zonca.github.io/author/andrea-zonca.html">Andrea Zonca</a>
            </li>
        </ul>
    </div>
</div>
        </div>

        <footer>
<section class='footer'>
    <div class="post social container row-fluid">
        <div class="span3">
            <div class="fb-like" data-send="false" data-layout="button_count" data-show-faces="false"></div>
        </div>
        <div class="span3">
            <a href="https://twitter.com/share" class="twitter-share-button" data-via="andreazonca">Tweet</a>
        </div>

        <div class="span3">
            <div class="g-plusone" data-size="medium" data-annotation="bubble"></div>
        </div>

        <div class="span3 hn">
            <span id="hnews"></span>
        </div>
    </div>


<script src="/theme/js/social.js"></script>
        </footer>


        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-15291408-1']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
        </script>
<script>
$(document).ready(function () {
    $("pre").each(function(i, e){
        console.log(e);
        if (e.textContent.match("^github")) {
            var parts = e.textContent.split(":")[1].split("/");
            $.getGithubFileByFilePath(parts[0], parts[1], parts.slice(2).join("/"), function(contents)
            {
                e.textContent = contents;
                hljs.highlightBlock(e);
            } );
        };
    });
 });
</script>
    </body>
</html>